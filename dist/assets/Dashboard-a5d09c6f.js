var W=Object.defineProperty,z=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var w=(t,a,s)=>a in t?W(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,k=(t,a)=>{for(var s in a||(a={}))J.call(a,s)&&w(t,s,a[s]);if(A)for(var s of A(a))Q.call(a,s)&&w(t,s,a[s]);return t},S=(t,a)=>z(t,K(a));var V=(t,a,s)=>new Promise((i,n)=>{var o=c=>{try{l(s.next(c))}catch(u){n(u)}},d=c=>{try{l(s.throw(c))}catch(u){n(u)}},l=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,d);l((s=s.apply(t,a)).next())});import{c as M,i as X,f as I,a as R,J as Y,u as E,m as $,r as x,M as T,b as B,d as G,e as v,j as e,g as r,C as h,L as _,U as F}from"./index-4e0fc20c.js";import{u as Z,q as ee,a as te,c as ae,A as y,b as j,f as se,s as U,l as ne,d as O,e as ie}from"./animations-30854322.js";import{T as b,u as re,A as oe,R as le,L as ce,C as de,X as ue,Y as xe,a as me,b as he,M as pe,E as ge,c as fe}from"./SkeletonLoader-8366c9a0.js";import{u as ve,A as ye,s as je}from"./format-85ebfac2.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=M("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function Ae(...t){const a=!Array.isArray(t[0]),s=a?0:-1,i=t[0+s],n=t[1+s],o=t[2+s],d=t[3+s],l=X(n,o,d);return a?l(i):l}function we(t,a,s){const i=t.get();let n=null,o=i,d;const l=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,c=()=>{n&&(n.stop(),n=null)},u=()=>{c(),n=new Y(S(k({keyframes:[D(t.get()),D(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01},s),{onUpdate:d}))};if(t.attach((m,p)=>(o=m,d=g=>p(C(g,l)),I.postRender(u),t.get()),c),R(a)){const m=a.on("change",g=>t.set(C(g,l))),p=t.on("destroy",m);return()=>{m(),p()}}return c}function C(t,a){return a?t+a:t}function D(t){return typeof t=="number"?t:parseFloat(t)}function N(t){const a=E(()=>$(t)),{isStatic:s}=x.useContext(T);if(s){const[,i]=x.useState(t);x.useEffect(()=>a.on("change",i),[])}return a}function q(t,a){const s=N(a()),i=()=>s.set(a());return i(),B(()=>{const n=()=>I.preRender(i,!1,!0),o=t.map(d=>d.on("change",n));return()=>{o.forEach(d=>d()),G(i)}}),s}function ke(t){v.current=[],t();const a=q(v.current,t);return v.current=void 0,a}function Se(t,a,s,i){if(typeof t=="function")return ke(t);const n=typeof a=="function"?a:Ae(a,s,i);return Array.isArray(t)?H(t,n):H([t],([o])=>n(o))}function H(t,a){const s=E(()=>[]);return q(t,()=>{s.length=0;const i=t.length;for(let n=0;n<i;n++)s[n]=t[n].get();return a(s)})}function Ve(t,a={}){const{isStatic:s}=x.useContext(T),i=()=>R(t)?t.get():t;if(s)return Se(i);const n=N(i());return x.useInsertionEffect(()=>we(n,t,a),[n,JSON.stringify(a)]),n}function Ce(){return Z({queryKey:ee.metrics,queryFn:()=>V(this,null,function*(){return yield te.get("/metrics")})})}function De({value:t,className:a}){const s=N(0),i=Ve(s,{damping:30,stiffness:100}),[n,o]=x.useState(0);return x.useEffect(()=>(s.set(t),i.on("change",l=>{o(Math.round(l))})),[t,s,i]),e.jsx("span",{className:a,children:n.toLocaleString()})}function He({icon:t,className:a}){return e.jsx(r.div,{className:a,whileHover:{rotate:5,scale:1.1,transition:{duration:.2}},children:e.jsx(t,{className:"h-6 w-6 text-primary-600"})})}function Le({change:t,changeType:a}){const s=a==="increase"?"text-green-600":"text-red-600",i=a==="increase"?"+":"",n=a==="increase"?b:Ne;return e.jsxs(r.div,{className:`flex items-center gap-1 text-sm font-medium ${s}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx(n,{className:"w-3 h-3"}),e.jsxs("span",{children:[i,t,"%"]})]})}function Me({title:t,value:a,change:s,changeType:i,icon:n}){return e.jsx(r.div,{whileHover:{scale:1.02,y:-4,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"group h-full",children:e.jsx(h,{variant:"elevated",hover:!0,className:"h-full",children:e.jsxs("div",{className:"flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex flex-col justify-between h-full",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.jsx(De,{value:a})})]}),e.jsx(Le,{change:s,changeType:i})]}),e.jsx(He,{icon:n,className:"flex items-center justify-center w-12 h-12 bg-primary-100 rounded-lg flex-shrink-0"})]})})})}function Ie(){const{data:t,isLoading:a,error:s}=re(),[i,n]=x.useState(null),{totalValue:o,avgValue:d,maxValue:l,trend:c}=x.useMemo(()=>{if(!t||t.length===0)return{totalValue:0,avgValue:0,maxValue:0,trend:0};const u=t.reduce((f,P)=>f+P.value,0),m=u/t.length,p=Math.max(...t.map(f=>f.value)),g=t.length>1?(t[t.length-1].value-t[0].value)/t[0].value*100:0;return{totalValue:u,avgValue:m,maxValue:p,trend:g}},[t]);return e.jsx(r.div,{variants:ae,initial:"hidden",animate:"visible",children:e.jsx(r.div,{className:"group",whileHover:{scale:1.02},transition:{duration:.2},children:e.jsx(h,{variant:"elevated",className:"p-6",children:e.jsx(oe,{mode:"wait",children:a?e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex items-center justify-center h-64",children:e.jsx(_,{size:"md"})},"loading"):s?e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsx(y,{variant:"destructive",children:e.jsxs(j,{children:["Failed to load analytics data: ",s.message]})})},"error"):!t||!Array.isArray(t)||t.length===0?e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex items-center justify-center h-64 text-muted-foreground",children:e.jsx("p",{children:"No analytics data available"})},"empty"):e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(()=>e.jsxs(e.Fragment,{children:[e.jsxs(r.div,{className:"flex items-center justify-between mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(r.h2,{className:"text-lg font-medium text-foreground flex items-center gap-2",whileHover:{scale:1.02},transition:{duration:.2},children:"Analytics Overview"}),e.jsxs(r.div,{className:"flex items-center gap-2 text-sm text-muted-foreground",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx(b,{className:"w-4 h-4"}),e.jsxs("span",{className:c>=0?"text-green-600":"text-red-600",children:[c>=0?"+":"",c.toFixed(1),"%"]})]})]}),e.jsxs(r.div,{className:"grid grid-cols-3 gap-4 mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(r.div,{className:"text-center p-3 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",whileHover:{scale:1.05},transition:{duration:.2},onHoverStart:()=>n("total"),onHoverEnd:()=>n(null),children:[e.jsx("div",{className:"text-sm md:text-lg font-bold text-blue-600 dark:text-blue-400",children:o.toLocaleString()}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Total"})]}),e.jsxs(r.div,{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800",whileHover:{scale:1.05},transition:{duration:.2},onHoverStart:()=>n("average"),onHoverEnd:()=>n(null),children:[e.jsx("div",{className:"text-sm md:text-lg font-bold text-green-600 dark:text-green-400",children:d.toLocaleString()}),e.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Average"})]}),e.jsxs(r.div,{className:"text-center p-3 rounded-lg bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800",whileHover:{scale:1.05},transition:{duration:.2},onHoverStart:()=>n("peak"),onHoverEnd:()=>n(null),children:[e.jsx("div",{className:"text-sm md:text-lg font-bold text-purple-600 dark:text-purple-400",children:l.toLocaleString()}),e.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:"Peak"})]})]}),e.jsx(r.div,{className:"h-48",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5,duration:.5},children:e.jsx(le,{width:"100%",height:"100%",children:e.jsxs(ce,{data:t,margin:{top:10,right:20,left:10,bottom:10},children:[e.jsx(de,{strokeDasharray:"3 3",className:"opacity-30",stroke:"hsl(var(--border))"}),e.jsx(ue,{dataKey:"label",className:"text-sm",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),e.jsx(xe,{className:"text-sm",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"}}),e.jsx(me,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",color:"hsl(var(--card-foreground))"},labelStyle:{color:"hsl(var(--foreground))",fontWeight:"500"},formatter:u=>[u.toLocaleString(),"Value"]}),e.jsx(he,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:i?3:2,dot:{fill:"#3b82f6",strokeWidth:2,r:i?5:4,style:{transition:"all 0.2s ease"}},activeDot:{r:8,stroke:"#3b82f6",strokeWidth:2,fill:"white",style:{filter:"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))"}},style:{transition:"all 0.2s ease"}})]})})})]}))()},"content")})})})})}function Re({name:t,avatar:a,createdAt:s,updatedAt:i}){const n=l=>l?"Updated":"Account created",o=(l,c,u)=>je(l?u:c,{addSuffix:!0}),d=new Date(i)>new Date(s);return e.jsxs(r.div,{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg hover:bg-accent transition-colors",variants:ne,whileHover:{scale:1.02,transition:{duration:.2}},children:[e.jsx(r.div,{className:"flex-shrink-0",whileHover:{scale:1.1},transition:{duration:.2},children:e.jsx(ye,{src:a,alt:`${t}'s avatar`,name:t,size:"md"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:t}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[n(d)," ",o(d,s,i)]})]})]})}function Ee(){const{data:t,isLoading:a,error:s}=ve({sort:"updatedAt",order:"desc",limit:5});if(a)return e.jsxs(h,{variant:"elevated",className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((n,o)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg animate-pulse",children:[e.jsx("div",{className:"w-8 h-8 bg-muted-foreground/20 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted-foreground/20 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-muted-foreground/20 rounded w-1/2"})]})]},o))})]});if(s)return e.jsxs(h,{variant:"elevated",className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recent Activity"}),e.jsx(y,{variant:"destructive",children:e.jsxs(j,{children:["Failed to load recent activity: ",s.message]})})]});if(!t||t.length===0)return e.jsxs(h,{variant:"elevated",className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recent Activity"}),e.jsx("div",{className:"text-center text-muted-foreground",children:e.jsx("p",{children:"No recent activity available"})})]});const i=t||[];return e.jsx(r.div,{variants:se,initial:"hidden",animate:"visible",children:e.jsxs(h,{variant:"elevated",className:"p-6",children:[e.jsx(r.h2,{className:"text-xl font-semibold text-foreground mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:"Recent Activity"}),e.jsx(r.div,{className:"space-y-3",variants:U,initial:"hidden",animate:"visible",children:i.map(n=>e.jsx(Re,{id:n.id,name:n.name,email:n.email,avatar:n.avatar,createdAt:n.createdAt,updatedAt:n.updatedAt},n.id))})]})})}const Te={users:F,"dollar-sign":be,activity:fe,"trending-up":b};function L(){return e.jsxs(r.div,{variants:O,initial:"hidden",animate:"visible",children:[e.jsx(r.h1,{className:"text-3xl sm:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent leading-tight drop-shadow-lg pb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:"Dashboard"}),e.jsx(r.p,{className:"mt-3 text-base sm:text-lg text-muted-foreground max-w-2xl leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6,ease:"easeOut"},children:"Monitor your data, track performance, and stay ahead of the curve with real-time insights"})]})}function We(){const{data:t,isLoading:a,error:s}=Ce();return s?e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx(L,{}),e.jsx("div",{className:"mt-8",children:e.jsx(y,{variant:"destructive",children:e.jsxs(j,{children:["Failed to load dashboard data: ",s.message]})})})]}):e.jsxs(r.div,{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",variants:U,initial:"hidden",animate:"visible",children:[e.jsx(L,{}),e.jsx(r.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 items-stretch",variants:O,children:a?e.jsx(pe,{count:4}):t&&Array.isArray(t)?t.map(i=>{const n=Te[i.icon]||F;return e.jsx(Me,{title:i.title,value:i.value,change:Math.abs(i.change),changeType:i.changeType,icon:n},i.id)}):e.jsx("div",{className:"col-span-full",children:e.jsx(ge,{title:"No dashboard data available",description:"There's no data to display at the moment. Please try refreshing the page."})})}),e.jsxs(r.div,{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",variants:ie,children:[e.jsx(Ie,{}),e.jsx(Ee,{})]})]})}export{We as default};
