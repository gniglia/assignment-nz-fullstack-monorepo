var le=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var r=(e,t,s)=>(le(e,t,"read from private field"),s?s.call(e):t.get(e)),l=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},d=(e,t,s,i)=>(le(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var g=(e,t,s)=>(le(e,t,"access private method"),s);import{e as qe,p as _e,f as E,s as he,h as B,n as de,i as fe,k as Ne,t as We,l as te,m as ze,o as He,q as Qe,u as Le,r as S,v as Ke,w as $e,j as C,d as Je}from"./index-1b2cfb13.js";var b,o,q,p,j,k,T,_,W,A,L,M,P,N,D,U,V,z,ye,H,ge,K,me,$,pe,J,ve,G,be,X,xe,ie,De,Ae,Ge=(Ae=class extends qe{constructor(t,s){super();l(this,U);l(this,z);l(this,H);l(this,K);l(this,$);l(this,J);l(this,G);l(this,X);l(this,ie);l(this,b,void 0);l(this,o,void 0);l(this,q,void 0);l(this,p,void 0);l(this,j,void 0);l(this,k,void 0);l(this,T,void 0);l(this,_,void 0);l(this,W,void 0);l(this,A,void 0);l(this,L,void 0);l(this,M,void 0);l(this,P,void 0);l(this,N,void 0);l(this,D,new Set);this.options=s,d(this,b,t),d(this,_,null),d(this,T,_e()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,o).addObserver(this),je(r(this,o),this.options)?g(this,U,V).call(this):this.updateResult(),g(this,$,pe).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Re(r(this,o),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Re(r(this,o),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,g(this,J,ve).call(this),g(this,G,be).call(this),r(this,o).removeObserver(this)}setOptions(t){const s=this.options,i=r(this,o);if(this.options=r(this,b).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof E(this.options.enabled,r(this,o))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");g(this,X,xe).call(this),r(this,o).setOptions(this.options),s._defaulted&&!he(this.options,s)&&r(this,b).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,o),observer:this});const n=this.hasListeners();n&&Me(r(this,o),i,this.options,s)&&g(this,U,V).call(this),this.updateResult(),n&&(r(this,o)!==i||E(this.options.enabled,r(this,o))!==E(s.enabled,r(this,o))||B(this.options.staleTime,r(this,o))!==B(s.staleTime,r(this,o)))&&g(this,z,ye).call(this);const a=g(this,H,ge).call(this);n&&(r(this,o)!==i||E(this.options.enabled,r(this,o))!==E(s.enabled,r(this,o))||a!==r(this,N))&&g(this,K,me).call(this,a)}getOptimisticResult(t){const s=r(this,b).getQueryCache().build(r(this,b),t),i=this.createResult(s,t);return Ye(this,i)&&(d(this,p,i),d(this,k,this.options),d(this,j,r(this,o).state)),i}getCurrentResult(){return r(this,p)}trackResult(t,s){return new Proxy(t,{get:(i,n)=>(this.trackProp(n),s==null||s(n),n==="promise"&&!this.options.experimental_prefetchInRender&&r(this,T).status==="pending"&&r(this,T).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(i,n))})}trackProp(t){r(this,D).add(t)}getCurrentQuery(){return r(this,o)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=r(this,b).defaultQueryOptions(t),i=r(this,b).getQueryCache().build(r(this,b),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return g(this,U,V).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,p)))}createResult(t,s){var Ie;const i=r(this,o),n=this.options,a=r(this,p),c=r(this,j),x=r(this,k),h=t!==i?t.state:r(this,q),{state:v}=t;let u={...v},R=!1,y;if(s._optimisticResults){const w=this.hasListeners(),Z=!w&&je(t,s),F=w&&Me(t,i,s,n);(Z||F)&&(u={...u,...He(v.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:Q,errorUpdatedAt:I,status:m}=u;y=u.data;let Y=!1;if(s.placeholderData!==void 0&&y===void 0&&m==="pending"){let w;a!=null&&a.isPlaceholderData&&s.placeholderData===(x==null?void 0:x.placeholderData)?(w=a.data,Y=!0):w=typeof s.placeholderData=="function"?s.placeholderData((Ie=r(this,L))==null?void 0:Ie.state.data,r(this,L)):s.placeholderData,w!==void 0&&(m="success",y=Qe(a==null?void 0:a.data,w,s),R=!0)}if(s.select&&y!==void 0&&!Y)if(a&&y===(c==null?void 0:c.data)&&s.select===r(this,W))y=r(this,A);else try{d(this,W,s.select),y=s.select(y),y=Qe(a==null?void 0:a.data,y,s),d(this,A,y),d(this,_,null)}catch(w){d(this,_,w)}r(this,_)&&(Q=r(this,_),y=r(this,A),I=Date.now(),m="error");const oe=u.fetchStatus==="fetching",ce=m==="pending",ue=m==="error",Oe=ce&&oe,Te=y!==void 0,O={status:m,fetchStatus:u.fetchStatus,isPending:ce,isSuccess:m==="success",isError:ue,isInitialLoading:Oe,isLoading:Oe,data:y,dataUpdatedAt:u.dataUpdatedAt,error:Q,errorUpdatedAt:I,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>h.dataUpdateCount||u.errorUpdateCount>h.errorUpdateCount,isFetching:oe,isRefetching:oe&&!ce,isLoadingError:ue&&!Te,isPaused:u.fetchStatus==="paused",isPlaceholderData:R,isRefetchError:ue&&Te,isStale:we(t,s),refetch:this.refetch,promise:r(this,T),isEnabled:E(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const w=ee=>{O.status==="error"?ee.reject(O.error):O.data!==void 0&&ee.resolve(O.data)},Z=()=>{const ee=d(this,T,O.promise=_e());w(ee)},F=r(this,T);switch(F.status){case"pending":t.queryHash===i.queryHash&&w(F);break;case"fulfilled":(O.status==="error"||O.data!==F.value)&&Z();break;case"rejected":(O.status!=="error"||O.error!==F.reason)&&Z();break}}return O}updateResult(){const t=r(this,p),s=this.createResult(r(this,o),this.options);if(d(this,j,r(this,o).state),d(this,k,this.options),r(this,j).data!==void 0&&d(this,L,r(this,o)),he(s,t))return;d(this,p,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!r(this,D).size)return!0;const c=new Set(a??r(this,D));return this.options.throwOnError&&c.add("error"),Object.keys(r(this,p)).some(x=>{const f=x;return r(this,p)[f]!==t[f]&&c.has(f)})};g(this,ie,De).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&g(this,$,pe).call(this)}},b=new WeakMap,o=new WeakMap,q=new WeakMap,p=new WeakMap,j=new WeakMap,k=new WeakMap,T=new WeakMap,_=new WeakMap,W=new WeakMap,A=new WeakMap,L=new WeakMap,M=new WeakMap,P=new WeakMap,N=new WeakMap,D=new WeakMap,U=new WeakSet,V=function(t){g(this,X,xe).call(this);let s=r(this,o).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(de)),s},z=new WeakSet,ye=function(){g(this,J,ve).call(this);const t=B(this.options.staleTime,r(this,o));if(fe||r(this,p).isStale||!Ne(t))return;const i=We(r(this,p).dataUpdatedAt,t)+1;d(this,M,te.setTimeout(()=>{r(this,p).isStale||this.updateResult()},i))},H=new WeakSet,ge=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,o)):this.options.refetchInterval)??!1},K=new WeakSet,me=function(t){g(this,G,be).call(this),d(this,N,t),!(fe||E(this.options.enabled,r(this,o))===!1||!Ne(r(this,N))||r(this,N)===0)&&d(this,P,te.setInterval(()=>{(this.options.refetchIntervalInBackground||ze.isFocused())&&g(this,U,V).call(this)},r(this,N)))},$=new WeakSet,pe=function(){g(this,z,ye).call(this),g(this,K,me).call(this,g(this,H,ge).call(this))},J=new WeakSet,ve=function(){r(this,M)&&(te.clearTimeout(r(this,M)),d(this,M,void 0))},G=new WeakSet,be=function(){r(this,P)&&(te.clearInterval(r(this,P)),d(this,P,void 0))},X=new WeakSet,xe=function(){const t=r(this,b).getQueryCache().build(r(this,b),this.options);if(t===r(this,o))return;const s=r(this,o);d(this,o,t),d(this,q,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},ie=new WeakSet,De=function(t){Le.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(r(this,p))}),r(this,b).getQueryCache().notify({query:r(this,o),type:"observerResultsUpdated"})})},Ae);function Xe(e,t){return E(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function je(e,t){return Xe(e,t)||e.state.data!==void 0&&Re(e,t,t.refetchOnMount)}function Re(e,t,s){if(E(t.enabled,e)!==!1&&B(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&we(e,t)}return!1}function Me(e,t,s,i){return(e!==t||E(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&we(e,s)}function we(e,t){return E(t.enabled,e)!==!1&&e.isStaleByTime(B(t.staleTime,e))}function Ye(e,t){return!he(e.getCurrentResult(),t)}var Ve=S.createContext(!1),Ze=()=>S.useContext(Ve);Ve.Provider;function et(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tt=S.createContext(et()),st=()=>S.useContext(tt),rt=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},it=e=>{S.useEffect(()=>{e.clearReset()},[e])},nt=({result:e,errorResetBoundary:t,throwOnError:s,query:i,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(n&&e.data===void 0||Ke(s,[e.error,i])),at=e=>{if(e.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...n)=>s(i(...n)):s(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ot=(e,t)=>e.isLoading&&e.isFetching&&!t,ct=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Pe=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ut(e,t,s){var u,R,y,Q,I;const i=Ze(),n=st(),a=$e(s),c=a.defaultQueryOptions(e);(R=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||R.call(u,c),c._optimisticResults=i?"isRestoring":"optimistic",at(c),rt(c,n),it(n);const x=!a.getQueryCache().get(c.queryHash),[f]=S.useState(()=>new t(a,c)),h=f.getOptimisticResult(c),v=!i&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(m=>{const Y=v?f.subscribe(Le.batchCalls(m)):de;return f.updateResult(),Y},[f,v]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),S.useEffect(()=>{f.setOptions(c)},[c,f]),ct(c,h))throw Pe(c,f,n);if(nt({result:h,errorResetBoundary:n,throwOnError:c.throwOnError,query:a.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw h.error;if((Q=(y=a.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||Q.call(y,c,h),c.experimental_prefetchInRender&&!fe&&ot(h,i)){const m=x?Pe(c,f,n):(I=a.getQueryCache().get(c.queryHash))==null?void 0:I.promise;m==null||m.catch(de).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?h:f.trackResult(h)}function ne(e,t){return ut(e,Ge,t)}const lt="http://localhost:3001",Ue=(e,t)=>{const s=new Error(e);return s.name="ApiError",s.status=t,s};async function se(e,t){const s=`${lt}${e}`;try{const[i]=await Promise.all([fetch(s,{headers:{"Content-Type":"application/json",...t==null?void 0:t.headers},...t}),new Promise(n=>setTimeout(n,3e3))]);if(!i.ok)throw Ue(`HTTP error! status: ${i.status}`,i.status);return await i.json()}catch(i){throw i instanceof Error&&i.name==="ApiError"?i:Ue("Network error occurred",0)}}const ae={get:e=>se(e),post:(e,t)=>se(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>se(e,{method:"PUT",body:JSON.stringify(t)}),delete:e=>se(e,{method:"DELETE"})},Se={users:["users"],user:e=>["users",e],analytics:["analytics"],dashboard:["dashboard"]};function wt(){return ne({queryKey:[...Se.users,"all"],queryFn:async()=>await ae.get("/users"),staleTime:5*60*1e3,refetchOnWindowFocus:!1})}const ht=e=>{const t=new URLSearchParams;if(e.page&&t.set("_page",e.page.toString()),e.limit&&t.set("_limit",e.limit.toString()),e.sort){const s=(e.sort.startsWith("-"),e.sort);t.set("_sort",s)}return e.order&&t.set("_order",e.order),e.role&&e.role!=="all"&&t.set("role",e.role),e.status&&e.status!=="all"&&t.set("status",e.status),e.search&&t.set("q",e.search),e.nameLike&&t.set("name_like",e.nameLike),e.emailLike&&t.set("email_like",e.emailLike),t.toString()},dt=e=>{const t=ht(e);return t?`/users?${t}`:"/users"};function St(e={}){return ne({queryKey:[...Se.users,"filtered",e],queryFn:async()=>{const t=dt(e);return await ae.get(t)},staleTime:5*60*1e3,refetchOnWindowFocus:!1})}function Ct(){return ne({queryKey:Se.analytics,queryFn:async()=>await ae.get("/analytics"),refetchInterval:3e4})}function Et(){return ne({queryKey:["metrics"],queryFn:async()=>await ae.get("/metrics")})}function Be(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=Be(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Ce(){for(var e,t,s=0,i="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=Be(e))&&(i&&(i+=" "),i+=t);return i}function re(...e){return Ce(e)}function Ot({children:e,className:t,padding:s=!0}){return C.jsx("div",{className:re("bg-white rounded-lg shadow-sm border border-gray-200",s&&"p-6",t),children:e})}function Tt({size:e="md",className:t,text:s,fullScreen:i=!1}){const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},a=C.jsxs("div",{className:re("flex flex-col items-center justify-center",t),children:[C.jsx("div",{className:re("animate-spin rounded-full border-b-2 border-blue-600",n[e])}),s&&C.jsx("p",{className:"mt-2 text-sm text-gray-600 animate-pulse",children:s})]});return i?C.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:a}):a}const ft=Je.forwardRef(({variant:e="primary",size:t="md",children:s,loading:i=!1,className:n,disabled:a,...c},x)=>{const f="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",h={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-primary-500",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},v={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return C.jsxs("button",{ref:x,className:re(f,h[e],v[t],(a||i)&&"opacity-50 cursor-not-allowed",n),disabled:a||i,...c,children:[i&&C.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})});ft.displayName="Button";function Ee(...e){return Ce(e)}const Fe=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ke=Ce,yt=(e,t)=>s=>{var i;if((t==null?void 0:t.variants)==null)return ke(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:a}=t,c=Object.keys(n).map(h=>{const v=s==null?void 0:s[h],u=a==null?void 0:a[h];if(v===null)return null;const R=Fe(v)||Fe(u);return n[h][R]}),x=s&&Object.entries(s).reduce((h,v)=>{let[u,R]=v;return R===void 0||(h[u]=R),h},{}),f=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((h,v)=>{let{class:u,className:R,...y}=v;return Object.entries(y).every(Q=>{let[I,m]=Q;return Array.isArray(m)?m.includes({...a,...x}[I]):{...a,...x}[I]===m})?[...h,u,R]:h},[]);return ke(e,c,f,s==null?void 0:s.class,s==null?void 0:s.className)},gt=yt("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mt=S.forwardRef(({className:e,variant:t,...s},i)=>C.jsx("div",{ref:i,role:"alert",className:Ee(gt({variant:t}),e),...s}));mt.displayName="Alert";const pt=S.forwardRef(({className:e,...t},s)=>C.jsx("h5",{ref:s,className:Ee("mb-1 font-medium leading-none tracking-tight",e),...t}));pt.displayName="AlertTitle";const vt=S.forwardRef(({className:e,...t},s)=>C.jsx("div",{ref:s,className:Ee("text-sm [&_p]:leading-relaxed",e),...t}));vt.displayName="AlertDescription";export{mt as A,ft as B,Ot as C,Tt as L,vt as a,wt as b,Et as c,Ce as d,re as e,Ee as f,St as g,Ct as u};
